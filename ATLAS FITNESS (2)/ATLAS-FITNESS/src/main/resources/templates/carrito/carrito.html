<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="layout :: content">

<div class="container mt-4">
    <h2 class="text-gold mb-4">Mi Carrito</h2>

    <div th:if="${carrito.items.size() == 0}">
        <p class="text-white-50">Tu carrito está vacío.</p>
        <a th:href="@{/productos/catalogo}" class="btn btn-gold mt-3">Ir al Catálogo</a>
    </div>

    <div th:each="item : ${carrito.items}" class="cart-item d-flex justify-content-between align-items-center">
        <div>
            <h5 th:text="${item.producto.nombre}">Producto</h5>
            <p class="text-white-50">Cantidad: <span th:text="${item.cantidad}"></span></p>
        </div>
        <div class="text-end">
            <span class="text-gold fw-bold" th:text="'S/ ' + ${item.total}">S/ 0.00</span>
            <a th:href="@{/carrito/eliminar/{id}(id=${item.producto.id})}"
               class="btn btn-outline-gold btn-sm ms-3">
               <i class="bi bi-trash"></i>
            </a>
        </div>
    </div>

    <div class="mt-4 text-end">
        <h4>Total: <span class="text-gold" th:text="'S/ ' + ${carrito.total}">S/ 0.00</span></h4>
        <a th:href="@{/carrito/checkout}" class="btn btn-gold btn-lg mt-3">
            Proceder al Pago
        </a>
    </div>
</div>

</th:block>
</html>
